<!doctype html>
<html lang="en">

<head>
    <title>Members | Corrpution Inc</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Styles -->
    <link rel="stylesheet" href="../index.css">
    <!-- Page Specific Styles -->
    <style>
        .swiper {
            width: 100vw !important;
            max-width: 100vw !important;
            overflow-x: hidden !important;
            padding: 1em;
        }
    </style>
    <!-- Safari Theme Color -->
    <meta name="theme-color" content="#0f0f0c">
</head>

<body>
    <video autoplay muted loop id="page-background">
        <source src="../assets/background/background.mp4" type="video/mp4">
    </video>

    <nav>
        <a href="../" id="home-link-sm" class="text-crt">Corruption Inc</a>
        <div class="nav-links">
            <a href="../members/" id="memberslink" class="active">Members</a>
            <a href="../contact/" id="contactlink">Contact</a>
            <a href="../" id="home-link" class="text-crt">Corruption Inc</a>
            <a href="../watch/" id="watchlink">Watch</a>
            <a href="../community" id="communitylink">Community</a>
        </div>
    </nav>

    <section class="container" class="text-center">
        <div>
            <h1 class="title">Meet the Founders</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus tenetur nostrum, animi similique
                obcaecati totam id rem commodi dicta quia repellendus, est et! Soluta sunt aut quae dolorum fugit ut.
            </p>
            <div id="member-selection">
                <a onclick="chooseMember(this)" id="member-itsfood"><img src="./profiles/itsfood.jpg"></a>
                <a onclick="chooseMember(this)" id="member-alien"><img src="./profiles/alienislive.jpg"></a>
                <a onclick="chooseMember(this)" id="member-pvppy"><img src="./profiles/pvppy.jpg"></a>
                <a onclick="chooseMember(this)" id="member-freddie"><img src="./profiles/freddie.jpg"></a>
                <a onclick="chooseMember(this)" id="member-nic"><img src="./profiles/nic.jpg"></a>
            </div>
        </div>
    </section>
    <section id="member">
        <h1 id="member-name-m">choose your character</h1>
        <div id="member-notes">
            <img src="../assets/addon/stickynote.png">
            <ul id="member-bullets"></ul>
        </div>
        <div id="member-container">
            <div id="member-display">
                <img id="member-image">
                <div id="member-info">
                    <h1 id="member-name"><i>choose your character</i></h1>
                    <p id="member-about"></p>
                </div>
            </div>
        </div>
        <section class="container">
            <p id="member-about-m"></p>
            <div id="member-notes-m">
                <img src="../assets/addon/stickynote.png">
                <ul id="member-bullets-m"></ul>
            </div>
        </section>
    </section>
    <div id="member-transition" class="hidden">
        <!-- <video autoplay loop muted src="../assets/background/channelstatic.mp4">
        </video> -->
        <h1 class="text-crt" id="transition-name">scanning</h1>
    </div>

    <!-- Page Load -->
    <script>
        navigator.saysWho = (() => {
            const { userAgent } = navigator
            let match = userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || []
            let temp
            if (/trident/i.test(match[1])) {
                temp = /\brv[ :]+(\d+)/g.exec(userAgent) || []
                return `IE ${temp[1] || ''}`
            }
            if (match[1] === 'Chrome') {
                temp = userAgent.match(/\b(OPR|Edge)\/(\d+)/)
                if (temp !== null) {
                    return temp.slice(1).join(' ').replace('OPR', 'Opera')
                }
                temp = userAgent.match(/\b(Edg)\/(\d+)/)
                if (temp !== null) {
                    return temp.slice(1).join(' ').replace('Edg', 'Edge (Chromium)')
                }
            }
            match = match[2] ? [match[1], match[2]] : [navigator.appName, navigator.appVersion, '-?']
            temp = userAgent.match(/version\/(\d+)/i)
            if (temp !== null) {
                match.splice(1, 1, temp[1])
            }
            return match.join(' ')
        })()

        if (navigator.saysWho.toLowerCase().includes('safari')) {
            document.querySelector('body').classList.add('safari')
        }
    </script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/MotionPathPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/TextPlugin.min.js"></script>
    <!-- Swiper -->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <!-- Page Linking -->
    <script>
        let links = document.querySelectorAll('a[href]')
        links.forEach((link) => {
            link.addEventListener('click', function (e) {
                e.preventDefault()
                var link = e.srcElement.href

                // Test if page exists
                var request;
                if (window.XMLHttpRequest) {
                    request = new XMLHttpRequest()
                } else {
                    request = new ActiveXObject("Microsoft.XMLHTTP")
                }
                request.open('GET', `${link}`, false)
                request.send();
                if (request.status !== 404) {
                    window.location.href = link
                } else {
                    alert(`link will navigate to ${link}.`)
                }
            })
        })
    </script>
    <!-- Member Selection -->
    <script>
        const member = {
            "name": {
                "d": document.getElementById('member-name'),
                "m": document.getElementById('member-name-m')
            },
            "about": {
                "d": document.getElementById('member-about'),
                "m": document.getElementById('member-about-m')
            },
            "bullets": {
                "d": document.getElementById('member-bullets'),
                "m": document.getElementById('member-bullets-m')
            },
            "profile": document.getElementById('member-image'),
            "selector": {
                "options": document.getElementById('member-selection'),
                "chosen": null
            },
            "display": document.getElementById('member-display'),
            "container": document.getElementById('member-container'),
            "transition": document.getElementById('member-transition'),
            "section": document.getElementById('member'),
            "info": null,
        }

        fetch("data.json")
            .then(response => {
                return response.json()
            })
            .then(data => {
                member.info = data;
                // console.log(member.info)
            })

        function chooseMember(e) {
            if (member.selector.chosen == e.id) return;
            member.selector.chosen = e.id
            let data;
            switch (e.id) {
                case "member-itsfood":
                    data = member.info.member.itsfood
                    break;
                case "member-alien":
                    data = member.info.member.alien
                    break;
                case "member-pvppy":
                    data = member.info.member.pvppy
                    break;
                case "member-freddie":
                    data = member.info.member.freddie
                    break;
                case "member-nic":
                    data = member.info.member.nic
                    break;
            }
            try {
                member.section.classList.add('hidden')
                try {
                    member.transition.classList.remove('hidden')
                } catch (e) {
                    console.log(e)
                }
                member.selector.options.querySelector('a.active').classList.remove('active')
                member.selector.options.classList.add('grayscale')
            }
            finally {
                try {
                    member.name.d.textContent = data.name
                    member.name.m.textContent = data.name
                    member.about.d.textContent = data.about
                    member.about.m.textContent = data.about
                    member.profile.src = data.image

                    member.bullets.d.querySelectorAll('li').forEach(n => n.remove())
                    data.bullets.forEach((item) => {
                        let bullet = document.createElement('li')
                        bullet.textContent = item
                        member.bullets.d.appendChild(bullet)
                    })
                    member.bullets.m.querySelectorAll('li').forEach(n => n.remove())
                    data.bullets.forEach((item) => {
                        let bullet = document.createElement('li')
                        bullet.textContent = item
                        member.bullets.m.appendChild(bullet)
                    })
                }
                catch {
                    (oops) => {
                        console.log('Error:', oops)
                        alert('There was an issue loading this member.')
                    }
                }
                finally {
                    setTimeout(() => {
                        e.classList.add('active')
                        member.transition.classList.add('hidden')
                        member.section.classList.remove('hidden')
                        member.selector.options.classList.remove('grayscale')
                    }, 600);
                }
            }
        }
    </script>
</body>

</html>